let computer="O",currentPlayer="X",playerAmount="One Player",boxStatus=[null,null,null,null,null,null,null,null,null];const gameboard=document.querySelector(".__gameboard"),gameBox=Array.from(document.querySelectorAll("._box")),newGameButton=document.querySelector(".__buttons ._new-game"),changePlayerAmountButton=document.querySelector(".__buttons ._player");function boxClick(){let e=this.id;if(boxStatus[e]||"One Player"!=playerAmount){if(!boxStatus[e]&&"Two Player"==playerAmount){if(boxStatus[e]=currentPlayer,this.innerHTML=currentPlayer,winCheck(currentPlayer)){gameboard.style.pointerEvents="none";return}currentPlayer="X"===currentPlayer?"O":"X"}}else if(boxStatus[e]=currentPlayer,this.innerText=currentPlayer,!0==winCheck(currentPlayer)||(aiPlay(),winCheck(computer),!0==winCheck(computer))){gameboard.style.pointerEvents="none";return}this.classList.remove("hover-effect_")}function aiPlay(){let e=Math.floor(9*Math.random()),t=boxStatus.some(e=>null===e);null==boxStatus[e]?(boxStatus[e]=computer,gameBox[e].innerText=computer):t&&aiPlay()}function winCheck(e){let t='<span class="horizontal-strike-out_"></span>',n='<span class="vertical-strike-out_"></span>';if(boxStatus[0]==e&&boxStatus[1]==e&&boxStatus[2]==e)return gameBox[1].innerHTML+=t,!0;if(boxStatus[0]==e&&boxStatus[3]==e&&boxStatus[6]==e)return gameBox[3].innerHTML+=n,!0;if(boxStatus[0]==e&&boxStatus[4]==e&&boxStatus[8]==e)return gameBox[4].innerHTML+='<span class="diagonal-left-strike-out_"></span>',!0;if(boxStatus[8]==e&&boxStatus[5]==e&&boxStatus[2]==e)return gameBox[5].innerHTML+=n,!0;if(boxStatus[8]==e&&boxStatus[7]==e&&boxStatus[6]==e)return gameBox[7].innerHTML+=t,!0;else if(boxStatus[4]==e&&boxStatus[1]==e&&boxStatus[7]==e)return gameBox[4].innerHTML+=n,!0;else if(boxStatus[4]==e&&boxStatus[3]==e&&boxStatus[5]==e)return gameBox[4].innerHTML+=t,!0;else if(boxStatus[4]==e&&boxStatus[2]==e&&boxStatus[6]==e)return gameBox[4].innerHTML+='<span class="diagonal-right-strike-out_"></span>',!0;if(!boxStatus.some(e=>null===e))return!0}function changePlayerAmount(){"One Player"==playerAmount?(playerAmount="Two Player",changePlayerAmountButton.innerText="One Player"):"Two Player"==playerAmount&&(playerAmount="One Player",changePlayerAmountButton.innerText="Two Player"),newGame()}function newGame(){currentPlayer="X",boxStatus=[null,null,null,null,null,null,null,null,null],gameBox.forEach(e=>{e.innerText="",gameboard.style.pointerEvents="auto"})}newGameButton.addEventListener("click",newGame),changePlayerAmountButton.addEventListener("click",changePlayerAmount),gameBox.forEach((e,t)=>{e.addEventListener("click",boxClick),e.addEventListener("mouseover",()=>{if(!boxStatus[t]){let n=document.querySelector(":root");n.style.setProperty("--box-hover",`'${currentPlayer}'`),e.classList.add("hover-effect_")}}),e.addEventListener("mouseout",()=>e.classList.remove("hover-effect_"))});