let computer="O",currentPlayer="X",playerAmount="One Player",boxStatus=[null,null,null,null,null,null,null,null,null];const gameboard=document.querySelector(".__gameboard"),gameBox=Array.from(document.querySelectorAll("._box")),newGameButton=document.querySelector(".__buttons ._new-game"),changePlayerAmountButton=document.querySelector(".__buttons ._player");function boxClick(){let n=this.id;if(boxStatus[n]||"One Player"!=playerAmount){if(!boxStatus[n]&&"Two Player"==playerAmount){if(boxStatus[n]=currentPlayer,this.innerHTML=currentPlayer,winCheck(currentPlayer)){gameboard.style.pointerEvents="none";return}currentPlayer="X"===currentPlayer?"O":"X"}}else if(boxStatus[n]=currentPlayer,this.innerText=currentPlayer,!0==winCheck(currentPlayer)||(aiPlay(),winCheck(computer),!0==winCheck(computer))){gameboard.style.pointerEvents="none";return}this.classList.remove("hover-effect_")}function aiPlay(){let n=Math.floor(9*Math.random()),s=boxStatus.some(n=>null===n);null==boxStatus[n]?(boxStatus[n]=computer,gameBox[n].innerText=computer):s&&aiPlay()}function winCheck(n){let s='<span class="horizontal-strike-out_">&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',e='<span class="vertical-strike-out_">&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>';if(boxStatus[0]==n&&boxStatus[1]==n&&boxStatus[2]==n)return gameBox[1].innerHTML+=s,!0;if(boxStatus[0]==n&&boxStatus[3]==n&&boxStatus[6]==n)return gameBox[3].innerHTML+=e,!0;if(boxStatus[0]==n&&boxStatus[4]==n&&boxStatus[8]==n)return gameBox[4].innerHTML+='<span class="diagonal-left-strike-out_">&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',!0;if(boxStatus[8]==n&&boxStatus[5]==n&&boxStatus[2]==n)return gameBox[5].innerHTML+=e,!0;if(boxStatus[8]==n&&boxStatus[7]==n&&boxStatus[6]==n)return gameBox[7].innerHTML+=s,!0;else if(boxStatus[4]==n&&boxStatus[1]==n&&boxStatus[7]==n)return gameBox[4].innerHTML+=e,!0;else if(boxStatus[4]==n&&boxStatus[3]==n&&boxStatus[5]==n)return gameBox[4].innerHTML+=s,!0;else if(boxStatus[4]==n&&boxStatus[2]==n&&boxStatus[6]==n)return gameBox[4].innerHTML+='<span class="diagonal-right-strike-out_">&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>',!0;if(!boxStatus.some(n=>null===n))return!0}function changePlayerAmount(){"One Player"==playerAmount?(playerAmount="Two Player",changePlayerAmountButton.innerText="One Player"):"Two Player"==playerAmount&&(playerAmount="One Player",changePlayerAmountButton.innerText="Two Player"),newGame()}function newGame(){currentPlayer="X",boxStatus=[null,null,null,null,null,null,null,null,null],gameBox.forEach(n=>{n.innerText="",gameboard.style.pointerEvents="auto"})}newGameButton.addEventListener("click",newGame),changePlayerAmountButton.addEventListener("click",changePlayerAmount),gameBox.forEach((n,s)=>{n.addEventListener("click",boxClick),n.addEventListener("mouseover",()=>{if(!boxStatus[s]){let e=document.querySelector(":root");e.style.setProperty("--box-hover",`'${currentPlayer}'`),n.classList.add("hover-effect_")}}),n.addEventListener("mouseout",()=>n.classList.remove("hover-effect_"))});